{{- $albums := (.Outbox.Where "templateId" "arcadium-album").ByRank.Slice -}}

<!-- Page content -->
<div class="framed page app h-card padding-none" hx-get="/@{{.UserID}}/albums" hx-trigger="refreshPage from:window" hx-target="this" hx-swap="outerHTML">

	{{- template "header" . -}}

	<div class="padding pos-relative">

		{{- if .UserCan "add-album" -}}
			<div class="margin-bottom align-right">
				<button hx-get="/@{{.UserID}}/add-album" class="text-sm">{{icon "add"}} Add an Album</button>
			</div>
		{{- end -}}

		<div class="margin-vertical columns-3">
			{{- range $albums -}}
				<a href="/{{.StreamID}}" class="block square padding-none">
					<img src="{{.IconURL}}" class="square width-100-percent block" style="object-fit:cover">
					<div class="block padding-sm text-uppercase text-plain">
						<div class="bold">{{.Label}}</div>
						<div>{{.Data.year}}</div>
					</div>
				</a>
			{{- end -}}
		</div>

	</div>

</div>